/*
Copyright (c) 2020 Daybrush
name: @scena/matrix
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/matrix
version: 1.1.1
*/
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((t=t||self).Matrix={})}(this,function(t){"use strict";var c=1e-7;function v(t,r){return r?Math.round(t/r)*r:t}function g(t,r){void 0===r&&(r=Math.sqrt(t.length));for(var n=t.slice(),e=h(r),o=0;o<r;++o){var i=r*o+o;if(!v(n[i],c))for(var a=o+1;a<r;++a)if(n[r*o+a]){!function(t,r,n,e,o){for(var i=0;i<o;++i){var a=n+i*o,u=e+i*o,f=t[a],c=r[a];t[a]=t[u],t[u]=f,r[a]=r[u],r[u]=c}}(n,e,o,a,r);break}if(!v(n[i],c))return[];!function(t,r,n,e,o){for(var i=0;i<e;++i){var a=n+i*e;t[a]/=o,r[a]/=o}}(n,e,o,r,n[i]);for(a=0;a<r;++a){var u=a,f=n[a+o*r];v(f,c)&&o!==a&&function(t,r,n,e,o,i){for(var a=0;a<o;++a){var u=n+a*o,f=e+a*o;t[u]+=t[f]*i,r[u]+=r[f]*i}}(n,e,u,o,r,-f)}}return e}function m(t,r){void 0===r&&(r=Math.sqrt(t.length));for(var n=[],e=0;e<r;++e)for(var o=0;o<r;++o)n[o*r+e]=t[r*e+o];return n}function n(t,r){for(var n=t.slice(),e=t.length;e<r-1;++e)n[e]=0;return n[r-1]=1,n}function p(t,r,n){if(void 0===r&&(r=Math.sqrt(t.length)),r===n)return t;for(var e=h(n),o=Math.min(r,n),i=0;i<o-1;++i){for(var a=0;a<o-1;++a)e[i*n+a]=t[i*r+a];e[(i+1)*n-1]=t[(i+1)*r-1],e[(n-1)*n+i]=t[(r-1)*r+i]}return e[n*n-1]=t[r*r-1],e}function x(t,r,n){void 0===n&&(n=Math.sqrt(t.length));var e=[],o=t.length/n,i=r.length/o;if(!o)return r;if(!i)return t;for(var a=0;a<n;++a)for(var u=0;u<i;++u)for(var f=e[u*n+a]=0;f<o;++f)e[u*n+a]+=t[f*n+a]*r[u*o+f];return e}function e(t,r,n){void 0===n&&(n=r.length);var r=x(t,r,n),e=r[n-1];return r.map(function(t){return t/e})}function o(t,r){var n=Math.cos(t),e=Math.sin(t),t=h(r);return t[0]=n,t[1]=e,t[r]=-e,t[r+1]=n,t}function h(t){for(var r=t*t,n=[],e=0;e<r;++e)n[e]=e%(t+1)?0:1;return n}t.calculate=e,t.convertCSStoMatrix=function(t,r){return void 0===r&&(r=6===t.length),r?[t[0],t[1],0,t[2],t[3],0,t[4],t[5],1]:t},t.convertDimension=p,t.convertMatrixtoCSS=function(t,r){return void 0===r&&(r=9===t.length),r?[t[0],t[1],t[3],t[4],t[6],t[7]]:t},t.convertPositionMatrix=n,t.createIdentityMatrix=h,t.createOriginMatrix=function(t,r){for(var n=h(r),e=Math.min(t.length,r-1),o=0;o<e;++o)n[r*(r-1)+o]=t[o];return n},t.createRotateMatrix=o,t.createScaleMatrix=function(t,r){for(var n=h(r),e=Math.min(t.length,r-1),o=0;o<e;++o)n[(r+1)*o]=t[o];return n},t.createWarpMatrix=function(t,r,n,e,o,i,a,u){var f=t[0],c=t[1],v=r[0],h=r[1],l=n[0],s=n[1],M=e[0],d=e[1],t=o[0],r=o[1],n=i[0],e=i[1],o=a[0],i=a[1],a=u[0],u=u[1];return(d=g([f,0,v,0,l,0,M,0,c,0,h,0,s,0,d,0,1,0,1,0,1,0,1,0,0,f,0,v,0,l,0,M,0,c,0,h,0,s,0,d,0,1,0,1,0,1,0,1,-t*f,-r*f,-n*v,-e*v,-o*l,-i*l,-a*M,-u*M,-t*c,-r*c,-n*h,-e*h,-o*s,-i*s,-a*d,-u*d],8)).length?((u=x(d,[t,r,n,e,o,i,a,u],8))[8]=1,p(m(u),3,4)):[]},t.fromTranslation=function(t,r){for(var n=h(r),e=0;e<r-1;++e)n[r*(r-1)+e]=t[e]||0;return n},t.getCenter=function(t){return[0,1].map(function(r){return function(t){for(var r=t.length,n=0,e=r-1;0<=e;--e)n+=t[e];return r?n/r:0}(t.map(function(t){return t[r]}))})},t.getOrigin=function(t,r){void 0===r&&(r=Math.sqrt(t.length));for(var n=[],e=t[r*r-1],o=0;o<r-1;++o)n[o]=t[r*(r-1)+o]/e;return n[r-1]=0,n},t.ignoreDimension=function(t,r,n){void 0===n&&(n=Math.sqrt(t.length));for(var e=t.slice(),o=0;o<n;++o)e[o*n+r-1]=0,e[(r-1)*n+o]=0;return e[(r-1)*(n+1)]=1,e},t.invert=g,t.matrix3d=function(t,r){return x(t,r,4)},t.minus=function(t,r){for(var n=Math.min(t.length,r.length),e=t.slice(),o=0;o<n;++o)e[o]=e[o]-r[o];return e},t.multiplies=function(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var e=h(r);return t.forEach(function(t){e=x(e,t,r)}),e},t.multiply=x,t.plus=function(t,r){for(var n=Math.min(t.length,r.length),e=t.slice(),o=0;o<n;++o)e[o]=e[o]+r[o];return e},t.rotate=function(t,r){return e(o(r,3),n(t,3))},t.rotateX3d=function(t,r){return x(t,[1,0,0,0,0,Math.cos(r),Math.sin(r),0,0,-Math.sin(r),Math.cos(r),0,0,0,0,1],4)},t.rotateY3d=function(t,r){return x(t,[Math.cos(r),0,-Math.sin(r),0,0,1,0,0,Math.sin(r),0,Math.cos(r),0,0,0,0,1],4)},t.rotateZ3d=function(t,r){return x(t,o(r,4))},t.scale3d=function(t,r){var n=void 0===(e=r[0])?1:e,e=void 0===(e=r[1])?1:e,r=r[2];return x(t,[n,0,0,0,0,e,0,0,0,0,void 0===r?1:r,0,0,0,0,1],4)},t.translate3d=function(t,r){var n=void 0===(e=r[0])?0:e,e=void 0===(e=r[1])?0:e,r=r[2];return x(t,[1,0,0,0,0,1,0,0,0,0,1,0,n,e,void 0===r?0:r,1],4)},t.transpose=m});
//# sourceMappingURL=matrix.min.js.map
